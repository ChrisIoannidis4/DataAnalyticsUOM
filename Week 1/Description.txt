Assignment Overview
In week 1 we have looked at the relationship between team win percentage and Pythagorean expectation in four different professional team sport leagues. We concluded the week by comparing the predictive value of Pythagorean expectation and win percentage from one half of a season to the second half of the season win percentage. We did this using Major League Baseball data. The assignment is to repeat this exercise using data for the English Premier League (EPL). For this you are provided with an Excel datafile (EPL2018-18.xlsx) containing all match results for the 2017/18 season (380 games). You will need to load the datafile and then adapt the code we used for Major League Baseball to the case of the EPL.

Beware: even though your code might get you to the correct answer at a given point, it is sometimes possible that the way you write it might interfere with completing a further step. So even if you get the answer right, you should look at the code we supply to check if you are going the same way. In practice, there are often many ways to get to answer in Python, and we do not insist that you follow our approach exactly – but simply warn you to be aware that differences could turn out to be problematic later.  

As much as possible, copy and paste lines of code from Notebook 5: “Pythagorean expectation as predictor in MLB”, and then adapt the text to this context.

These are the steps you need to take to complete the assignment.:

Load the datafile (this contains 6 variables: the date, home team, away team, goals scored (FTHG), goals against (FTAG) andthe result (H- home win, D- draw, A – away win).

Create a value for a home wins (win= 1, draw=0.5, loss= 0) and away wins and a count variable for each game (=1).

Create a file for games played in 2017 (before date 20180000) and another one for games played in 2018 (after date 20180000).
For the 2017 games, use .groupby to create a dataframe aggregating by home team the variables for count, home wins, goals for and goals against.  Then, use .groupby to  create a separate dataframe aggregating by away team the variables for count, away wins, goals for and goals against. Rename the variables to denote whether they are aggregates for home team or away team.

Then merge the home and away dataframes.

Sum the values of home and away wins, games, goals for and goals against, then create the values for win percentage (wpc) and the Pythagorean expectation (pyth). 

Now repeat steps 4-6 for the 2018 games. Be sure to give different names for wpc and pyth in 2017 and 2018.

Now merge 2017 and 2018 summary files.

Now generate a correlation matrix for the wpc and pyth variables for 2017 and 2018
